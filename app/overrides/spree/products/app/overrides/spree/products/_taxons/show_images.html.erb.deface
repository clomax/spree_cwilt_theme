<!-- replace 'ul#similar_items_by_taxon' -->
<% products = [] %>
<% (1..4).each do %>
  <% taxons = @product.taxons %>
  <% taxon = taxons.sample %>
  <% product = taxon.products.all.sample %>
  <% products.push(product) unless products.include?(product) %>
<% end %>

<%= products %>

<ul id="#similar_items_by_taxon" data-hook>
  <% (1..4).each do |i| %>
    <li>
      <%= products[i].name.to_s %>
      <%= link_to small_image(products[i], :itemprop => "image") %>
    </li>
  <% end %>
</ul>
